# Understanding of the class Session Key - By Anushree Manoharrao

The class SessionKey is managing a dictionary to anonymize a session in GMU format (e.g. 202140, which correspond to Summer 2021) to a number, keeping the chronological order not changed.

There are two files asssociated with sessions:
- config/session-config.json: keeps the configuration data on how to generate the anonymized values for the sessions
- key/sessionKeys.txt: keeps the current generated anonymized values for the sessions (if any)

Before you use session keys, you must define the configuration file.

##### Sample session-config.json
 - Start year and end year are defined, which tells about the range of time for which we are running the code to anonymize the values.
 - List of semesters in GMU is described, where 10,40,70 are Spring, Summer and Fall respectively.
 - To randomize the session values, a start value along with a range for min and max step is used.
`
> { 
>  "start_year": 2004, 
>  "end_year": 2030,
>  "semesters_list": [10, 40, 70],
>  "start_key": 100,
>  "min_step": 10,
>  "max_step": 100
> }
`
If the sessionsKeys.txt file exists, 
- then the function <strong>load</strong> is executed. 
- else, <strong> generate </strong> and <strong> save </strong> functions are executed in that order. 

##### The load function is performing the following operations:
<ul>
  <li>  It reads the file line by line </li>
  <li>  Splits them based on space  </li>
  <li>  Stores each line to a dictionary where the former part is the key to the latter part </li>
 </ul>

##### The generate function is performing the following operations:
<ul>
  <li>  It uses the <strong>session-config.json</strong> file to generate the sessionkey.txt file </li>
  <li>  It opens and loads the json file </li>
  <li>  Generates the sessionkeys for the duration mentioned in the start_year and end_year of json file, e.g., from 2000 to 2030 </li>
  <li>  It generates two values and is stored as a dictionary using the below technique
    <ul>
      <li>  The first value which is the anonymizing the year is generated by performing (year*100) +sem </li>
      <li>  Second value which is a key to each year is generated by adding the previous key to a randomly generated integer between the defined range of minstep and         maxstep, incrementing it for every year in that order </li> 
    </ul>
  </li>
  <li>  The generated dictionary is saved by executing the “save” function </li>
</ul>

##### The save functions is performing the following operations:
<ul>
  <li>  It creates a new file by writing to sessionkeys.txt file by reading from the dictionary generated </li>
  <li>  It appends the key and values using a space to the txt file </li>
</ul>





##### Sample of output in sessionKeys.txt
 - 200040, 198   - Summer of 2000 is mapped to 198
 - 200070, 250   - Fall of 2000 will be mapped to a number greater than 198 added to a value randomly chosen between 10 and 100
>
It keeps incrementing and adding in the same way for all the semesters till the end_year

- session-config.json has to be created under a new folder <strong>config</strong> with a path like  "../config/session-config.json"
- sessionKeys.txt has to be created under the same root path with a new folder <strong>key</strong> with a path like  "../key/sessionKeys.txt"


=======
# TO BE REVISED: 
#  import random, os, and json. Random is used to randomize keys and data. Json is needed to be imported to
#parse the data that we get from the files with the keys and data so it is easier to divey up data and give random numbers to
#keep privacy EX. student data comes in list json makes it an array and moves forward. For the session key there needs to be
#a configurated file to generate keys if there is no file that the file is randomly generated with keys. def load(Self)
#used to open the file and read the data only after this is done the user needs to save the file and then input data
#Once the file is input the data gets allocated and generated for startyear, endyear, lastkey, minstep, maxstep and semster
#following the generate code there is then added randomization code to keep privacy of students lastKey += random.randint(minStep, maxStep)
finally - Initialize and checks if file exist if does not generates a new data it saves it.s

